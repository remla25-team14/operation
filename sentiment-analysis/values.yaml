fullnameOverride: ""
prefix: sentiment

model:
  image: ghcr.io/remla25-team14/model-service:v0.1.2
  port: 5000
  artifactId: "3143858901"
  modelurl: version2-sentiment-chart-model

# app:
#  image: ghcr.io/remla25-team14/app/app:sha-06d792c
#  port: 5001
#  servicePort: 80

app:
  port: 5001
  servicePort: 80
  image: ghcr.io/remla25-team14/app/app:sha-06d792c
  images:
    v1: ghcr.io/remla25-team14/app/app:sha-06d792c
    v2: ghcr.io/remla25-team14/app/app:sha-06d792c

githubTokenSecretName: github-token
githubTokenKey: GITHUB_TOKEN

monitoring:
  enabled: true
  release: myprom

sharedVolume:
  enabled: true
  path: /mnt/shared
  hostPath: /mnt/shared

ingress:
  enabled: true
  controller: istio
  host: sentiment.local
  className: nginx

prometheus:
  prometheusSpec:
    externalUrl: http://prometheus.{{ .Values.ingress.host }}
    routePrefix: /

grafana:
  enabled: true
  dashboard:
    uid: "sentiment-analysis"
    title: "Sentiment Analysis"
    refreshInterval: "5s"
    tags: ["sentiment", "monitoring"]
    editable: true
  datasource:
    uid: "prometheus"
  env:
    GF_SERVER_ROOT_URL: grafana.{{ .Values.ingress.host }}
    GF_SERVER_SERVE_FROM_SUB_PATH: "false"

traffic:
  abTesting:
    enabled: true
    matchHeader: x-user-experiment
    controlValue: A
    experimentValue: B
    appVersions:
      - v1
      - v2
